/*! For license information please see bundle.be4aa00448a1472876db.js.LICENSE.txt */
(()=>{var t={422:t=>{t.exports={sourceCode:"#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform vec2 A;uniform vec4 B;const int C=$0$;uniform float D[10];uniform float E[10];const int F=$1$;const int G=$2$;vec2 H(vec2 I,vec2 J){return vec2(I.x*J.x-I.y*J.y,I.x*J.y+I.y*J.x);}vec2 K(vec2 I,vec2 J){return vec2(((I.x*J.x+I.y*J.y)/(J.x*J.x+J.y*J.y)),((I.y*J.x-I.x*J.y)/(J.x*J.x+J.y*J.y)));}vec3 L(in vec3 M){vec3 N=clamp(abs(mod(M.x*6.+vec3(0.,4.,2.),6.)-3.)-1.,0.,1.);N=N*N*(3.-2.*N);return M.z*mix(vec3(1.),N,M.y);}vec2 O(vec2 P){vec2 Q=vec2(1.,0.);for(int R=0;R<C;R++){Q=H(Q,P-vec2(D[R],E[R]));}return Q;}vec2 S(vec2 P){vec2 T=vec2(0.);for(int R=0;R<C;R++){vec2 U=vec2(1.,0.);for(int V=0;V<C;V++){vec2 W=P-vec2(D[V],E[V]);float X=1.-step(float(R)-.5,float(V))+step(float(R)+.5,float(V));U=H(U,W*X+vec2(1.,0.)*(1.-X));}T+=U;}return T;}vec3 Y(vec2 Z){float a=100000.;vec3 b=vec3(0.);for(int R=0;R<C;R++){float W=length(Z-vec2(D[R],E[R]));if(W<a){a=W;if(R==0){b=vec3(68.,1.,81.)/255.;}else if(R==1){b=vec3(41.,170.,200.)/255.;}else if(R==2){b=vec3(94.,201.,103.)/255.;}else if(R==3){b=vec3(60.,82.,135.)/255.;}else if(R==4){b=vec3(32.,144.,138.)/255.;}else if(R==5){b=vec3(1.,0.,1.);}else if(R==6){b=vec3(.5,1.,.5);}else if(R==7){b=vec3(1.,.5,.5);}else if(R==8){b=vec3(.5,.5,1.);}else if(R==9){b=vec3(.6,.2,.3);}}}return b;}void main(){vec2 c=gl_FragCoord.xy/A.xy;vec2 Z=vec2(mix(B[0],B[1],c.x),mix(B[2],B[3],c.y));vec2 d=vec2(Z);float e=0.;for(int R=0;R<F;R++){d-=K(O(d),S(d));float f=-1.;for(int V=0;V<C;V++){if(length(d-vec2(D[V],E[V]))<=.001){f=1.;break;}}if(f>0.){break;}else{e+=1.;}}vec3 b=vec3(1.,0.,0.);float W=0.;if(G==0){b=Y(d);}else if(G==1){W=length(O(d))*100.;b=vec3(W);}else if(G==2){W=e/float(F);b=vec3(W);}else if(G==3){W=e/float(F);b=mix(vec3(1.,.97647,.93725),vec3(.60392,.031373,.129412),W);}else if(G==4){W=e/float(F);b=mix(vec3(.000686,0.,.1454901),vec3(.984313,.784313,.5333333),W);}else if(G==5){vec2 g=O(Z);float I=(atan(g.y,g.x)/2.*3.1415)+.5;b=L(vec3(I,1.,length(g)));}float h=1.-step(.000001*A.x*(B[1]-B[0]),length(Z.x));h+=1.-step(.000001*A.y*(B[3]-B[2]),length(Z.y));b=b*(1.-h)+vec3(1.,1.,1.)*h;gl_FragColor=vec4(b,1.);}",uniforms:{resolution:{variableName:"A",variableType:"vec2"},limits:{variableName:"B",variableType:"vec4"},rootsReal:{variableName:"D",variableType:"float"},rootsImag:{variableName:"E",variableType:"float"}},consts:{ROOTS_COUNT:{variableName:"$0$",variableType:"int"},MAX_ITERATIONS:{variableName:"$1$",variableType:"int"},RENDER_TYPE:{variableName:"$2$",variableType:"int"}}}},477:t=>{t.exports={sourceCode:"#ifdef GL_ES\nprecision mediump float;\n#endif\nattribute vec4 position;void main(){gl_Position=position;}",uniforms:{},consts:{}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}(()=>{"use strict";let t=Float32Array;function e(e,n,r){const o=new t(3);return e&&(o[0]=e),n&&(o[1]=n),r&&(o[2]=r),o}function r(e,n,r){return(r=r||new t(3))[0]=e[0]+n[0],r[1]=e[1]+n[1],r[2]=e[2]+n[2],r}let o=Float32Array;function i(t,n,r){r=r||e();const o=n[0],i=n[1],s=n[2],a=o*t[3]+i*t[7]+s*t[11]+t[15];return r[0]=(o*t[0]+i*t[4]+s*t[8]+t[12])/a,r[1]=(o*t[1]+i*t[5]+s*t[9]+t[13])/a,r[2]=(o*t[2]+i*t[6]+s*t[10]+t[14])/a,r}function s(t,n,r){r=r||e();const o=n[0],i=n[1],s=n[2];return r[0]=o*t[0]+i*t[4]+s*t[8],r[1]=o*t[1]+i*t[5]+s*t[9],r[2]=o*t[2]+i*t[6]+s*t[10],r}const a=5120,u=5121,c=5124;{const t={};t[a]=Int8Array,t[5121]=Uint8Array,t[5122]=Int16Array,t[5123]=Uint16Array,t[c]=Int32Array,t[5125]=Uint32Array,t[5126]=Float32Array,t[32819]=Uint16Array,t[32820]=Uint16Array,t[33635]=Uint16Array,t[5131]=Uint16Array,t[33640]=Uint32Array,t[35899]=Uint32Array,t[35902]=Uint32Array,t[36269]=Uint32Array,t[34042]=Uint32Array}function f(t){if(t instanceof Int8Array)return a;if(t instanceof Uint8Array)return u;if(t instanceof Uint8ClampedArray)return u;if(t instanceof Int16Array)return 5122;if(t instanceof Uint16Array)return 5123;if(t instanceof Int32Array)return c;if(t instanceof Uint32Array)return 5125;if(t instanceof Float32Array)return 5126;throw new Error("unsupported typed array type")}const l="undefined"!=typeof SharedArrayBuffer?function(t){return t&&t.buffer&&(t.buffer instanceof ArrayBuffer||t.buffer instanceof SharedArrayBuffer)}:function(t){return t&&t.buffer&&t.buffer instanceof ArrayBuffer};function h(t,e){return"undefined"!=typeof WebGLTexture&&e instanceof WebGLTexture}const d=34962,p="";function m(t,e,n,r){if("undefined"!=typeof WebGLBuffer&&e instanceof WebGLBuffer)return e;n=n||d;const o=t.createBuffer();return function(t,e,n,r,o){t.bindBuffer(e,n),t.bufferData(e,r,o||35044)}(t,n,o,e,r),o}function y(t){return"indices"===t}function v(t){return t.length?t:t.data}const b=/coord|texture/i,g=/color|colour/i;function A(t,e){let n;if(n=b.test(t)?2:g.test(t)?4:3,e%n>0)throw new Error(`Can not guess numComponents for attribute '${t}'. Tried ${n} but ${e} values is not evenly divisible by ${n}. You should specify it.`);return n}function x(t,e){return t.numComponents||t.size||A(e,v(t).length)}function C(t,e){if(l(t))return t;if(l(t.data))return t.data;Array.isArray(t)&&(t={data:t});let n=t.type;return n||(n=y(e)?Uint16Array:Float32Array),new n(t.data)}function T(t,e){const n={};return Object.keys(e).forEach((function(r){if(!y(r)){const i=e[r],s=i.attrib||i.name||i.attribName||p+r;if(i.value){if(!Array.isArray(i.value)&&!l(i.value))throw new Error("array.value is not array or typedarray");n[s]={value:i.value}}else{let e,l,h,p;if(i.buffer&&i.buffer instanceof WebGLBuffer)e=i.buffer,p=i.numComponents||i.size,l=i.type,h=i.normalize;else if("number"==typeof i||"number"==typeof i.data){const n=i.data||i,s=i.type||Float32Array,f=n*s.BYTES_PER_ELEMENT;l=function(t){if(t===Int8Array)return a;if(t===Uint8Array)return u;if(t===Uint8ClampedArray)return u;if(t===Int16Array)return 5122;if(t===Uint16Array)return 5123;if(t===Int32Array)return c;if(t===Uint32Array)return 5125;if(t===Float32Array)return 5126;throw new Error("unsupported typed array type")}(s),h=void 0!==i.normalize?i.normalize:(o=s)===Int8Array||o===Uint8Array,p=i.numComponents||i.size||A(r,n),e=t.createBuffer(),t.bindBuffer(d,e),t.bufferData(d,f,i.drawType||35044)}else{const n=C(i,r);e=m(t,n,void 0,i.drawType),l=f(n),h=void 0!==i.normalize?i.normalize:function(t){return t instanceof Int8Array||t instanceof Uint8Array}(n),p=x(i,r)}n[s]={buffer:e,numComponents:p,type:l,normalize:h,stride:i.stride||0,offset:i.offset||0,divisor:void 0===i.divisor?void 0:i.divisor,drawType:i.drawType}}}var o})),t.bindBuffer(d,null),n}const S=["position","positions","a_position"];function E(t,e,n){const r=T(t,e),o=Object.assign({},n||{});o.attribs=Object.assign({},n?n.attribs:{},r);const i=e.indices;if(i){const e=C(i,"indices");o.indices=m(t,e,34963),o.numElements=e.length,o.elementType=f(e)}else o.numElements||(o.numElements=function(t,e){let n,r;for(r=0;r<S.length&&(n=S[r],!(n in e))&&(n=p+n,!(n in e));++r);r===S.length&&(n=Object.keys(e)[0]);const o=e[n];t.bindBuffer(d,o.buffer);const i=t.getBufferParameter(d,34660);var s;t.bindBuffer(d,null);const a=i/(5120===(s=o.type)||5121===s?1:5122===s||5123===s?2:5124===s||5125===s||5126===s?4:0),u=o.numComponents||o.size,c=a/u;if(c%1!=0)throw new Error(`numComponents ${u} not correct for length ${length}`);return c}(t,o.attribs));return o}function R(t,e){const n={};return Object.keys(e).forEach((function(r){n[r]=function(t,e,n){const r="indices"===n?34963:d;return m(t,C(e,n),r)}(t,e[r],r)})),e.indices?(n.numElements=e.indices.length,n.elementType=f(C(e.indices))):n.numElements=function(t){let e,n;for(n=0;n<S.length&&(e=S[n],!(e in t));++n);n===S.length&&(e=Object.keys(t)[0]);const r=t[e],o=v(r).length,i=x(r,e),s=o/i;if(o%i>0)throw new Error(`numComponents ${i} not correct for length ${o}`);return s}(e),n}function w(t,e,n){return function(t,e){let n=0;return t.push=function(){for(let e=0;e<arguments.length;++e){const r=arguments[e];if(r instanceof Array||l(r))for(let e=0;e<r.length;++e)t[n++]=r[e];else t[n++]=r}},t.reset=function(t){n=t||0},t.numComponents=e,Object.defineProperty(t,"numElements",{get:function(){return this.length/this.numComponents|0}}),t}(new(n||Float32Array)(t*e),t)}function M(t,e,n){const r=t.length,o=new Float32Array(3);for(let i=0;i<r;i+=3)n(e,[t[i],t[i+1],t[i+2]],o),t[i]=o[0],t[i+1]=o[1],t[i+2]=o[2]}function z(t,n,r){r=r||e();const o=n[0],i=n[1],s=n[2];return r[0]=o*t[0]+i*t[1]+s*t[2],r[1]=o*t[4]+i*t[5]+s*t[6],r[2]=o*t[8]+i*t[9]+s*t[10],r}function P(t,e){return M(t,function(t,e){e=e||new o(16);const n=t[0],r=t[1],i=t[2],s=t[3],a=t[4],u=t[5],c=t[6],f=t[7],l=t[8],h=t[9],d=t[10],p=t[11],m=t[12],y=t[13],v=t[14],b=t[15],g=d*b,A=v*p,x=c*b,C=v*f,T=c*p,S=d*f,E=i*b,R=v*s,w=i*p,M=d*s,z=i*f,P=c*s,I=l*y,U=m*h,F=a*y,O=m*u,k=a*h,L=l*u,B=n*y,D=m*r,X=n*h,Y=l*r,N=n*u,W=a*r,$=g*u+C*h+T*y-(A*u+x*h+S*y),_=A*r+E*h+M*y-(g*r+R*h+w*y),G=x*r+R*u+z*y-(C*r+E*u+P*y),V=S*r+w*u+P*h-(T*r+M*u+z*h),q=1/(n*$+a*_+l*G+m*V);return e[0]=q*$,e[1]=q*_,e[2]=q*G,e[3]=q*V,e[4]=q*(A*a+x*l+S*m-(g*a+C*l+T*m)),e[5]=q*(g*n+R*l+w*m-(A*n+E*l+M*m)),e[6]=q*(C*n+E*a+P*m-(x*n+R*a+z*m)),e[7]=q*(T*n+M*a+z*l-(S*n+w*a+P*l)),e[8]=q*(I*f+O*p+k*b-(U*f+F*p+L*b)),e[9]=q*(U*s+B*p+Y*b-(I*s+D*p+X*b)),e[10]=q*(F*s+D*f+N*b-(O*s+B*f+W*b)),e[11]=q*(L*s+X*f+W*p-(k*s+Y*f+N*p)),e[12]=q*(F*d+L*v+U*c-(k*v+I*c+O*d)),e[13]=q*(X*v+I*i+D*d-(B*d+Y*v+U*i)),e[14]=q*(B*c+W*v+O*i-(N*v+F*i+D*c)),e[15]=q*(N*d+k*i+Y*c-(X*c+W*d+L*i)),e}(e),z),t}function I(t,e){return Object.keys(t).forEach((function(n){const r=t[n];n.indexOf("pos")>=0?function(t,e){M(t,e,i)}(r,e):n.indexOf("tan")>=0||n.indexOf("binorm")>=0?function(t,e){M(t,e,s)}(r,e):n.indexOf("norm")>=0&&P(r,e)})),t}function U(t,e,n){return t=t||2,{position:{numComponents:2,data:[(e=e||0)+-1*(t*=.5),(n=n||0)+-1*t,e+1*t,n+-1*t,e+-1*t,n+1*t,e+1*t,n+1*t]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function F(t,e,n,r,i){var s;t=t||1,e=e||1,n=n||1,r=r||1,i=i||((s=s||new o(16))[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s);const a=(n+1)*(r+1),u=w(3,a),c=w(3,a),f=w(2,a);for(let o=0;o<=r;o++)for(let i=0;i<=n;i++){const s=i/n,a=o/r;u.push(t*s-.5*t,0,e*a-.5*e),c.push(0,1,0),f.push(s,a)}const l=n+1,h=w(3,n*r*2,Uint16Array);for(let t=0;t<r;t++)for(let e=0;e<n;e++)h.push((t+0)*l+e,(t+1)*l+e,(t+0)*l+e+1),h.push((t+1)*l+e,(t+1)*l+e+1,(t+0)*l+e+1);return I({position:u,normal:c,texcoord:f,indices:h},i)}function O(t,e,n,r,o,i,s){if(e<=0||n<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");r=r||0,i=i||0;const a=(o=o||Math.PI)-r,u=(s=s||2*Math.PI)-i,c=(e+1)*(n+1),f=w(3,c),l=w(3,c),h=w(2,c);for(let o=0;o<=n;o++)for(let s=0;s<=e;s++){const c=s/e,d=o/n,p=u*c+i,m=a*d+r,y=Math.sin(p),v=Math.cos(p),b=Math.sin(m),g=v*b,A=Math.cos(m),x=y*b;f.push(t*g,t*A,t*x),l.push(g,A,x),h.push(1-c,d)}const d=e+1,p=w(3,e*n*2,Uint16Array);for(let t=0;t<e;t++)for(let e=0;e<n;e++)p.push((e+0)*d+t,(e+0)*d+t+1,(e+1)*d+t),p.push((e+1)*d+t,(e+0)*d+t+1,(e+1)*d+t+1);return{position:f,normal:l,texcoord:h,indices:p}}const k=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function L(t){const e=(t=t||1)/2,n=[[-e,-e,-e],[+e,-e,-e],[-e,+e,-e],[+e,+e,-e],[-e,-e,+e],[+e,-e,+e],[-e,+e,+e],[+e,+e,+e]],r=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],o=[[1,0],[0,0],[0,1],[1,1]],i=w(3,24),s=w(3,24),a=w(2,24),u=w(3,12,Uint16Array);for(let t=0;t<6;++t){const e=k[t];for(let u=0;u<4;++u){const c=n[e[u]],f=r[t],l=o[u];i.push(c),s.push(f),a.push(l)}const c=4*t;u.push(c+0,c+1,c+2),u.push(c+0,c+2,c+3)}return{position:i,normal:s,texcoord:a,indices:u}}function B(t,e,n,r,o,i,s){if(r<3)throw new Error("radialSubdivisions must be 3 or greater");if(o<1)throw new Error("verticalSubdivisions must be 1 or greater");const a=void 0===i||i,u=void 0===s||s,c=(a?2:0)+(u?2:0),f=(r+1)*(o+1+c),l=w(3,f),h=w(3,f),d=w(2,f),p=w(3,r*(o+c/2)*2,Uint16Array),m=r+1,y=Math.atan2(t-e,n),v=Math.cos(y),b=Math.sin(y),g=o+(u?2:0);for(let i=a?-2:0;i<=g;++i){let s,a=i/o,u=n*a;i<0?(u=0,a=1,s=t):i>o?(u=n,a=1,s=e):s=t+i/o*(e-t),-2!==i&&i!==o+2||(s=0,a=0),u-=n/2;for(let t=0;t<m;++t){const e=Math.sin(t*Math.PI*2/r),n=Math.cos(t*Math.PI*2/r);l.push(e*s,u,n*s),i<0?h.push(0,-1,0):i>o?h.push(0,1,0):0===s?h.push(0,0,0):h.push(e*v,b,n*v),d.push(t/r,1-a)}}for(let t=0;t<o+c;++t)if(!(1===t&&a||t===o+c-2&&u))for(let e=0;e<r;++e)p.push(m*(t+0)+0+e,m*(t+0)+1+e,m*(t+1)+1+e),p.push(m*(t+0)+0+e,m*(t+1)+1+e,m*(t+1)+0+e);return{position:l,normal:h,texcoord:d,indices:p}}function D(t,e){e=e||[];const n=[];for(let r=0;r<t.length;r+=4){const o=t[r],i=t.slice(r+1,r+4);i.push.apply(i,e);for(let t=0;t<o;++t)n.push.apply(n,i)}return n}function X(){const t=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],e=D([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),n=D([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),r=t.length/3,o={position:w(3,r),texcoord:w(2,r),normal:w(3,r),color:w(4,r,Uint8Array),indices:w(3,r/3,Uint16Array)};o.position.push(t),o.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),o.normal.push(e),o.color.push(n);for(let t=0;t<r;++t)o.indices.push(t);return o}function Y(e,n,o,i,s,a,u){if(s<=0)throw new Error("subdivisionDown must be > 0");const c=(u=u||1)-(a=a||0),f=2*(s+1)*4,l=w(3,f),h=w(3,f),d=w(2,f);function p(t,e,n){return t+(e-t)*n}function m(n,o,u,f,m,y){for(let A=0;A<=s;A++){const x=o/1,C=A/s,T=2*(x-.5),S=(a+C*c)*Math.PI,E=Math.sin(S),R=Math.cos(S),w=p(e,n,E),M=T*i,z=R*e,P=E*w;l.push(M,z,P);const I=r((v=[0,E,R],b=u,(g=(g=void 0)||new t(3))[0]=v[0]*b[0],g[1]=v[1]*b[1],g[2]=v[2]*b[2],g),f);h.push(I),d.push(x*m+y,C)}var v,b,g}for(let t=0;t<2;t++){const e=2*(t/1-.5);m(n,t,[1,1,1],[0,0,0],1,0),m(n,t,[0,0,0],[e,0,0],0,0),m(o,t,[1,1,1],[0,0,0],1,0),m(o,t,[0,0,0],[e,0,0],0,1)}const y=w(3,2*s*4,Uint16Array);function v(t,e){for(let n=0;n<s;++n)y.push(t+n+0,t+n+1,e+n+0),y.push(t+n+1,e+n+1,e+n+0)}const b=s+1;return v(0*b,4*b),v(5*b,7*b),v(6*b,2*b),v(3*b,1*b),{position:l,normal:h,texcoord:d,indices:y}}function N(t,e,n,r,o,i){return B(t,t,e,n,r,o,i)}function W(t,e,n,r,o,i){if(n<3)throw new Error("radialSubdivisions must be 3 or greater");if(r<3)throw new Error("verticalSubdivisions must be 3 or greater");o=o||0;const s=(i=i||2*Math.PI)-o,a=n+1,u=r+1,c=a*u,f=w(3,c),l=w(3,c),h=w(2,c),d=w(3,n*r*2,Uint16Array);for(let i=0;i<u;++i){const u=i/r,c=u*Math.PI*2,d=Math.sin(c),p=t+d*e,m=Math.cos(c),y=m*e;for(let t=0;t<a;++t){const e=t/n,r=o+e*s,i=Math.sin(r),a=Math.cos(r),c=i*p,v=a*p,b=i*d,g=a*d;f.push(c,y,v),l.push(b,m,g),h.push(e,1-u)}}for(let t=0;t<r;++t)for(let e=0;e<n;++e){const n=1+e,r=1+t;d.push(a*t+e,a*r+e,a*t+n),d.push(a*r+e,a*r+n,a*t+n)}return{position:f,normal:l,texcoord:h,indices:d}}function $(t,e,n,r,o){if(e<3)throw new Error("divisions must be at least 3");o=o||1,r=r||0;const i=(e+1)*((n=n||1)+1),s=w(3,i),a=w(3,i),u=w(2,i),c=w(3,n*e*2,Uint16Array);let f=0;const l=t-r,h=e+1;for(let t=0;t<=n;++t){const i=r+l*Math.pow(t/n,o);for(let r=0;r<=e;++r){const o=2*Math.PI*r/e,l=i*Math.cos(o),d=i*Math.sin(o);if(s.push(l,0,d),a.push(0,1,0),u.push(1-r/e,t/n),t>0&&r!==e){const t=f+(r+1),e=f+r,n=f+r-h,o=f+(r+1)-h;c.push(t,e,n),c.push(t,n,o)}}f+=e+1}return{position:s,normal:a,texcoord:u,indices:c}}function _(t){return function(e){const n=t.apply(this,Array.prototype.slice.call(arguments,1));return R(e,n)}}function G(t){return function(e){const n=t.apply(null,Array.prototype.slice.call(arguments,1));return E(e,n)}}function V(t){return!!t.texStorage2D}G(X),_(X),G(L),_(L),G(F),_(F),G(O),_(O),G(B),_(B),G(U),_(U),G(Y),_(Y),G(N),_(N),G(W),_(W),G($),_($);const q=function(){const t={},e={};return function(n,r){return function(n){const r=n.constructor.name;if(!t[r]){for(const t in n)if("number"==typeof n[t]){const r=e[n[t]];e[n[t]]=r?`${r} | ${t}`:t}t[r]=!0}}(n),e[r]||("number"==typeof r?`0x${r.toString(16)}`:r)}}();new Uint8Array([128,192,255,255]);{const t={};t[6406]={numColorComponents:1},t[6409]={numColorComponents:1},t[6410]={numColorComponents:2},t[6407]={numColorComponents:3},t[6408]={numColorComponents:4},t[6403]={numColorComponents:1},t[36244]={numColorComponents:1},t[33319]={numColorComponents:2},t[33320]={numColorComponents:2},t[6407]={numColorComponents:3},t[36248]={numColorComponents:3},t[6408]={numColorComponents:4},t[36249]={numColorComponents:4},t[6402]={numColorComponents:1},t[34041]={numColorComponents:2}}const H=function(...t){console.error(...t)};function j(t){return"undefined"!=typeof document&&document.getElementById?document.getElementById(t):null}const J=33984,Q=34962,Z=3553,K=34067,tt=32879,et=35866,nt={};function rt(t,e){return nt[e].bindPoint}function ot(t,e){return function(n){t.uniform1i(e,n)}}function it(t,e){return function(n){t.uniform1iv(e,n)}}function st(t,e){return function(n){t.uniform2iv(e,n)}}function at(t,e){return function(n){t.uniform3iv(e,n)}}function ut(t,e){return function(n){t.uniform4iv(e,n)}}function ct(t,e,n,r){const o=rt(0,e);return V(t)?function(e){let i,s;h(0,e)?(i=e,s=null):(i=e.texture,s=e.sampler),t.uniform1i(r,n),t.activeTexture(J+n),t.bindTexture(o,i),t.bindSampler(n,s)}:function(e){t.uniform1i(r,n),t.activeTexture(J+n),t.bindTexture(o,e)}}function ft(t,e,n,r,o){const i=rt(0,e),s=new Int32Array(o);for(let t=0;t<o;++t)s[t]=n+t;return V(t)?function(e){t.uniform1iv(r,s),e.forEach((function(e,r){let o,a;t.activeTexture(J+s[r]),h(0,e)?(o=e,a=null):(o=e.texture,a=e.sampler),t.bindSampler(n,a),t.bindTexture(i,o)}))}:function(e){t.uniform1iv(r,s),e.forEach((function(e,n){t.activeTexture(J+s[n]),t.bindTexture(i,e)}))}}function lt(t,e){return function(n){if(n.value)switch(t.disableVertexAttribArray(e),n.value.length){case 4:t.vertexAttrib4fv(e,n.value);break;case 3:t.vertexAttrib3fv(e,n.value);break;case 2:t.vertexAttrib2fv(e,n.value);break;case 1:t.vertexAttrib1fv(e,n.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else t.bindBuffer(Q,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribPointer(e,n.numComponents||n.size,n.type||5126,n.normalize||!1,n.stride||0,n.offset||0),void 0!==n.divisor&&t.vertexAttribDivisor(e,n.divisor)}}function ht(t,e){return function(n){if(n.value){if(t.disableVertexAttribArray(e),4!==n.value.length)throw new Error("The length of an integer constant value must be 4!");t.vertexAttrib4iv(e,n.value)}else t.bindBuffer(Q,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.numComponents||n.size,n.type||5124,n.stride||0,n.offset||0),void 0!==n.divisor&&t.vertexAttribDivisor(e,n.divisor)}}function dt(t,e){return function(n){if(n.value){if(t.disableVertexAttribArray(e),4!==n.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");t.vertexAttrib4uiv(e,n.value)}else t.bindBuffer(Q,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.numComponents||n.size,n.type||5125,n.stride||0,n.offset||0),void 0!==n.divisor&&t.vertexAttribDivisor(e,n.divisor)}}function pt(t,e,n){const r=n.size,o=n.count;return function(n){t.bindBuffer(Q,n.buffer);const i=n.size||n.numComponents||r,s=i/o,a=n.type||5126,u=nt[a].size*i,c=n.normalize||!1,f=n.offset||0,l=u/o;for(let r=0;r<o;++r)t.enableVertexAttribArray(e+r),t.vertexAttribPointer(e+r,s,a,c,u,f+l*r),void 0!==n.divisor&&t.vertexAttribDivisor(e+r,n.divisor)}}nt[5126]={Type:Float32Array,size:4,setter:function(t,e){return function(n){t.uniform1f(e,n)}},arraySetter:function(t,e){return function(n){t.uniform1fv(e,n)}}},nt[35664]={Type:Float32Array,size:8,setter:function(t,e){return function(n){t.uniform2fv(e,n)}}},nt[35665]={Type:Float32Array,size:12,setter:function(t,e){return function(n){t.uniform3fv(e,n)}}},nt[35666]={Type:Float32Array,size:16,setter:function(t,e){return function(n){t.uniform4fv(e,n)}}},nt[5124]={Type:Int32Array,size:4,setter:ot,arraySetter:it},nt[35667]={Type:Int32Array,size:8,setter:st},nt[35668]={Type:Int32Array,size:12,setter:at},nt[35669]={Type:Int32Array,size:16,setter:ut},nt[5125]={Type:Uint32Array,size:4,setter:function(t,e){return function(n){t.uniform1ui(e,n)}},arraySetter:function(t,e){return function(n){t.uniform1uiv(e,n)}}},nt[36294]={Type:Uint32Array,size:8,setter:function(t,e){return function(n){t.uniform2uiv(e,n)}}},nt[36295]={Type:Uint32Array,size:12,setter:function(t,e){return function(n){t.uniform3uiv(e,n)}}},nt[36296]={Type:Uint32Array,size:16,setter:function(t,e){return function(n){t.uniform4uiv(e,n)}}},nt[35670]={Type:Uint32Array,size:4,setter:ot,arraySetter:it},nt[35671]={Type:Uint32Array,size:8,setter:st},nt[35672]={Type:Uint32Array,size:12,setter:at},nt[35673]={Type:Uint32Array,size:16,setter:ut},nt[35674]={Type:Float32Array,size:16,setter:function(t,e){return function(n){t.uniformMatrix2fv(e,!1,n)}}},nt[35675]={Type:Float32Array,size:36,setter:function(t,e){return function(n){t.uniformMatrix3fv(e,!1,n)}}},nt[35676]={Type:Float32Array,size:64,setter:function(t,e){return function(n){t.uniformMatrix4fv(e,!1,n)}}},nt[35685]={Type:Float32Array,size:24,setter:function(t,e){return function(n){t.uniformMatrix2x3fv(e,!1,n)}}},nt[35686]={Type:Float32Array,size:32,setter:function(t,e){return function(n){t.uniformMatrix2x4fv(e,!1,n)}}},nt[35687]={Type:Float32Array,size:24,setter:function(t,e){return function(n){t.uniformMatrix3x2fv(e,!1,n)}}},nt[35688]={Type:Float32Array,size:48,setter:function(t,e){return function(n){t.uniformMatrix3x4fv(e,!1,n)}}},nt[35689]={Type:Float32Array,size:32,setter:function(t,e){return function(n){t.uniformMatrix4x2fv(e,!1,n)}}},nt[35690]={Type:Float32Array,size:48,setter:function(t,e){return function(n){t.uniformMatrix4x3fv(e,!1,n)}}},nt[35678]={Type:null,size:0,setter:ct,arraySetter:ft,bindPoint:Z},nt[35680]={Type:null,size:0,setter:ct,arraySetter:ft,bindPoint:K},nt[35679]={Type:null,size:0,setter:ct,arraySetter:ft,bindPoint:tt},nt[35682]={Type:null,size:0,setter:ct,arraySetter:ft,bindPoint:Z},nt[36289]={Type:null,size:0,setter:ct,arraySetter:ft,bindPoint:et},nt[36292]={Type:null,size:0,setter:ct,arraySetter:ft,bindPoint:et},nt[36293]={Type:null,size:0,setter:ct,arraySetter:ft,bindPoint:K},nt[36298]={Type:null,size:0,setter:ct,arraySetter:ft,bindPoint:Z},nt[36299]={Type:null,size:0,setter:ct,arraySetter:ft,bindPoint:tt},nt[36300]={Type:null,size:0,setter:ct,arraySetter:ft,bindPoint:K},nt[36303]={Type:null,size:0,setter:ct,arraySetter:ft,bindPoint:et},nt[36306]={Type:null,size:0,setter:ct,arraySetter:ft,bindPoint:Z},nt[36307]={Type:null,size:0,setter:ct,arraySetter:ft,bindPoint:tt},nt[36308]={Type:null,size:0,setter:ct,arraySetter:ft,bindPoint:K},nt[36311]={Type:null,size:0,setter:ct,arraySetter:ft,bindPoint:et};const mt={};mt[5126]={size:4,setter:lt},mt[35664]={size:8,setter:lt},mt[35665]={size:12,setter:lt},mt[35666]={size:16,setter:lt},mt[5124]={size:4,setter:ht},mt[35667]={size:8,setter:ht},mt[35668]={size:12,setter:ht},mt[35669]={size:16,setter:ht},mt[5125]={size:4,setter:dt},mt[36294]={size:8,setter:dt},mt[36295]={size:12,setter:dt},mt[36296]={size:16,setter:dt},mt[35670]={size:4,setter:ht},mt[35671]={size:8,setter:ht},mt[35672]={size:12,setter:ht},mt[35673]={size:16,setter:ht},mt[35674]={size:4,setter:pt,count:2},mt[35675]={size:9,setter:pt,count:3},mt[35676]={size:16,setter:pt,count:4};const yt=/ERROR:\s*\d+:(\d+)/gi;function vt(t,e="",n=0){const r=[...e.matchAll(yt)],o=new Map(r.map(((t,n)=>{const o=parseInt(t[1]),i=r[n+1],s=i?i.index:e.length;return[o-1,e.substring(t.index,s)]})));return t.split("\n").map(((t,e)=>{const r=o.get(e);return`${e+1+n}: ${t}${r?`\n\n^^^ ${r}`:""}`})).join("\n")}const bt=/^[ \t]*\n/;function gt(t,e,n,r){const o=r||H,i=t.createShader(n);let s=0;if(bt.test(e)&&(s=1,e=e.replace(bt,"")),t.shaderSource(i,e),t.compileShader(i),!t.getShaderParameter(i,35713)){const r=t.getShaderInfoLog(i);return o(`${vt(e,r,s)}\nError compiling ${q(t,n)}: ${r}`),t.deleteShader(i),null}return i}function At(t,e,n){let r,o;if("function"==typeof e&&(n=e,e=void 0),"function"==typeof t)n=t,t=void 0;else if(t&&!Array.isArray(t)){if(t.errorCallback)return t;const e=t;n=e.errorCallback,t=e.attribLocations,r=e.transformFeedbackVaryings,o=e.transformFeedbackMode}const i={errorCallback:n||H,transformFeedbackVaryings:r,transformFeedbackMode:o};if(t){let n={};Array.isArray(t)?t.forEach((function(t,r){n[t]=e?e[r]:r})):n=t,i.attribLocations=n}return i}const xt=["VERTEX_SHADER","FRAGMENT_SHADER"];function Ct(t,e){e.forEach((function(e){t.deleteShader(e)}))}function Tt(t,e,n,r,o){const i=At(n,r,o),s=[];for(let n=0;n<e.length;++n){const r=gt(t,e[n],t[xt[n]],i.errorCallback);if(!r)return null;s.push(r)}return function(t,e,n,r,o){const i=At(n,r,o),s=[],a=[];for(let n=0;n<e.length;++n){let r=e[n];if("string"==typeof r){const e=j(r),o=e?e.text:r;let s=t[xt[n]];e&&e.type&&(s=((u=e.type).indexOf("frag")>=0?35632:u.indexOf("vert")>=0?35633:void 0)||s),r=gt(t,o,s,i.errorCallback),a.push(r)}"undefined"!=typeof WebGLShader&&r instanceof WebGLShader&&s.push(r)}var u;if(s.length!==e.length)return i.errorCallback("not enough shaders for program"),Ct(t,a),null;const c=t.createProgram();s.forEach((function(e){t.attachShader(c,e)})),i.attribLocations&&Object.keys(i.attribLocations).forEach((function(e){t.bindAttribLocation(c,i.attribLocations[e],e)}));let f=i.transformFeedbackVaryings;if(f&&(f.attribs&&(f=f.attribs),Array.isArray(f)||(f=Object.keys(f)),t.transformFeedbackVaryings(c,f,i.transformFeedbackMode||35981)),t.linkProgram(c),!t.getProgramParameter(c,35714)){const e=t.getProgramInfoLog(c);return i.errorCallback(`${s.map((e=>{const n=vt(t.getShaderSource(e),"",0),r=t.getShaderParameter(e,t.SHADER_TYPE);return`${q(t,r)}\n${n}}`})).join("\n")}\nError in program linking: ${e}`),t.deleteProgram(c),Ct(t,a),null}return c}(t,s,i)}function St(t){const e=t.name;return e.startsWith("gl_")||e.startsWith("webgl_")}function Et(t,e){let n=0;function r(e,r,o){const i=r.name.endsWith("[0]"),s=r.type,a=nt[s];if(!a)throw new Error(`unknown type: 0x${s.toString(16)}`);let u;if(a.bindPoint){const e=n;n+=r.size,u=i?a.arraySetter(t,s,e,o,r.size):a.setter(t,s,e,o,r.size)}else u=a.arraySetter&&i?a.arraySetter(t,o):a.setter(t,o);return u.location=o,u}const o={},i=t.getProgramParameter(e,35718);for(let n=0;n<i;++n){const i=t.getActiveUniform(e,n);if(St(i))continue;let s=i.name;s.endsWith("[0]")&&(s=s.substr(0,s.length-3));const a=t.getUniformLocation(e,i.name);a&&(o[s]=r(0,i,a))}return o}function Rt(t,e){const n=t.uniformSetters||t,r=arguments.length;for(let t=1;t<r;++t){const e=arguments[t];if(Array.isArray(e)){const t=e.length;for(let r=0;r<t;++r)Rt(n,e[r])}else for(const t in e){const r=n[t];r&&r(e[t])}}}function wt(t,e){const n={},r=t.getProgramParameter(e,35721);for(let o=0;o<r;++o){const r=t.getActiveAttrib(e,o);if(St(r))continue;const i=t.getAttribLocation(e,r.name),s=mt[r.type],a=s.setter(t,i,s);a.location=i,n[r.name]=a}return n}function Mt(t,e){const n={program:e,uniformSetters:Et(t,e),attribSetters:wt(t,e)};return V(t)&&(n.uniformBlockSpec=function(t,e){const n=t.getProgramParameter(e,35718),r=[],o=[];for(let i=0;i<n;++i){o.push(i),r.push({});const n=t.getActiveUniform(e,i);if(St(n))break;r[i].name=n.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach((function(n){const i=n[0],s=n[1];t.getActiveUniforms(e,o,t[i]).forEach((function(t,e){r[e][s]=t}))}));const i={},s=t.getProgramParameter(e,35382);for(let n=0;n<s;++n){const r=t.getActiveUniformBlockName(e,n),o={index:t.getUniformBlockIndex(e,r),usedByVertexShader:t.getActiveUniformBlockParameter(e,n,35396),usedByFragmentShader:t.getActiveUniformBlockParameter(e,n,35398),size:t.getActiveUniformBlockParameter(e,n,35392),uniformIndices:t.getActiveUniformBlockParameter(e,n,35395)};o.used=o.usedByVertexShader||o.usedByFragmentShader,i[r]=o}return{blockSpecs:i,uniformData:r}}(t,e),n.transformFeedbackInfo=function(t,e){const n={},r=t.getProgramParameter(e,35971);for(let o=0;o<r;++o){const r=t.getTransformFeedbackVarying(e,o);n[r.name]={index:o,type:r.type,size:r.size}}return n}(t,e)),n}const zt=36096,Pt=33306,It={};It[34041]=Pt,It[6401]=36128,It[36168]=36128,It[6402]=zt,It[33189]=zt,It[33190]=zt,It[36012]=zt,It[35056]=Pt,It[36013]=Pt;const Ut={};function Ft(t,e){e=e||1,e=Math.max(0,e);const n=t.clientWidth*e|0,r=t.clientHeight*e|0;return(t.width!==n||t.height!==r)&&(t.width=n,t.height=r,!0)}var Ot,kt;Ut[32854]=!0,Ut[32855]=!0,Ut[36194]=!0,Ut[34041]=!0,Ut[33189]=!0,Ut[6401]=!0,Ut[36168]=!0,function(t){t.ROOT="root",t.DISTANCE="distance",t.STEPS_1="steps1",t.STEPS_2="steps2",t.STEPS_3="steps3",t.FUNCTION="function"}(Ot||(Ot={})),function(t){t.LOW="low",t.MEDIUM="medium",t.HIGH="high"}(kt||(kt={}));var Lt=function(){function t(){var t=this;this.renderType=Ot.ROOT,this.quality=kt.HIGH,this.iterations=20,this.nav=document.querySelector("nav"),document.querySelector("#close").addEventListener("click",(function(){return t.nav.classList.remove("visible")})),document.querySelector("#open").addEventListener("click",(function(){return t.nav.classList.add("visible")})),document.querySelectorAll('input[type="radio"][name="renderType"]').forEach((function(e){e.addEventListener("change",(function(e){return t.handleChangeRenderType(e.target.value)})),e.checked&&t.handleChangeRenderType(e.value)})),document.querySelector("button#add-root").addEventListener("click",(function(){return t.handleAddRoot()})),document.querySelector("button#remove-root").addEventListener("click",(function(){return t.handleRemoveRoot()})),document.querySelector("button#add-iter").addEventListener("click",(function(){return t.handleAddIter()})),document.querySelector("button#remove-iter").addEventListener("click",(function(){return t.handleRemoveIter()})),document.querySelectorAll('input[type="radio"][name="quality"]').forEach((function(e){e.addEventListener("change",(function(e){return t.handleChangeQuality(e.target.value)})),e.checked&&t.handleChangeQuality(e.value)}))}return t.prototype.handleChangeRenderType=function(t){this.renderType=t,this.renderTypeCb&&this.renderTypeCb(t)},t.prototype.handleChangeQuality=function(t){this.quality=t,this.qualityCb&&this.qualityCb(this.quality)},t.prototype.handleAddRoot=function(){this.addRootCb&&this.addRootCb()},t.prototype.handleRemoveRoot=function(){this.removeRootCb&&this.removeRootCb()},t.prototype.handleAddIter=function(){this.iterations++,document.querySelector("span#iterations-number").innerHTML=""+this.iterations,this.iterCb&&this.iterCb(this.iterations)},t.prototype.handleRemoveIter=function(){this.iterations=1===this.iterations?this.iterations:this.iterations-1,document.querySelector("span#iterations-number").innerHTML=""+this.iterations,this.iterCb&&this.iterCb(this.iterations)},t.prototype.onChangeQuality=function(t){this.qualityCb=t},t.prototype.onAddRoot=function(t){this.addRootCb=t},t.prototype.onRemoveRoot=function(t){this.removeRootCb=t},t.prototype.onChangeIterations=function(t){this.iterCb=t},t.prototype.onChangeRenderType=function(t){this.renderTypeCb=t},t}();function Bt(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var Dt=function(){function t(t,e){this.real=t,this.imag=e}return t.fromAngle=function(e,n){return new t(e*Math.cos(n),e*Math.sin(n))},Object.defineProperty(t.prototype,"x",{get:function(){return this.real},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.imag},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vec",{get:function(){return[this.real,this.imag]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return Bt(this.vec,[0,0])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return Math.atan2(this.imag,this.real)},enumerable:!1,configurable:!0}),t}(),Xt=function(){function t(){this.roots=[new Dt(1,0),new Dt(-.5,.86603),new Dt(-.5,-.86603)],this.maxX=2,this.minX=-2,this.maxY=2,this.minY=-2,this.prevWidth=-1,this.prevHeight=-1,this.resolutionFactor=-1}return t.prototype.initRootComponents=function(){var t=this;if(-1!==this.prevWidth&&-1!==this.prevHeight&&-1!==this.resolutionFactor){var e=document.querySelector("body");e.querySelectorAll(".root").forEach((function(t){return t.remove()})),this.roots.forEach((function(n,r){var o=t.convertGraph2Page(n.vec),i=o[0],s=o[1],a=document.createElement("div");a.className="root root-"+r,a.style.top=s+"px",a.style.left=i+"px",e.appendChild(a)}))}},t.prototype.moveGraphAlong=function(t){this.maxX-=t[0]*(this.maxX-this.minX),this.minX-=t[0]*(this.maxX-this.minX),this.maxY-=t[1]*(this.maxY-this.minY),this.minY-=t[1]*(this.maxY-this.minY),this.initRootComponents()},t.prototype.moveRoot=function(t,e){if(!(t<0||t>=this.rootsCount)){this.roots[t].real+=e[0]*(this.maxX-this.minX),this.roots[t].imag+=e[1]*(this.maxY-this.minY);var n=document.querySelector(".root.root-"+t),r=this.convertGraph2Page(this.roots[t].vec),o=r[0],i=r[1];n.style.top=i+"px",n.style.left=o+"px"}},t.prototype.addRoot=function(){var t=this.roots.reduce((function(t,e){return Math.max(t,e.radius)}),-1);this.roots.push(Dt.fromAngle(t,2*Math.random()*3.1415)),this.initRootComponents()},t.prototype.removeRoot=function(){1!==this.rootsCount&&(this.roots.pop(),this.initRootComponents())},t.prototype.adaptDimensions=function(t,e,n){if(-1===this.prevWidth){this.prevWidth=t,this.prevHeight=e;var r=(this.maxY-this.minY)*t/e,o=(this.maxX-this.minX-r)/2;this.minX+=o,this.maxX-=o}else this.adaptXLimits((this.maxX-this.minX)*t/this.prevWidth),this.adaptYLimits((this.maxY-this.minY)*e/this.prevHeight),this.prevWidth=t,this.prevHeight=e;this.resolutionFactor=n,this.initRootComponents()},t.prototype.adaptXLimits=function(t){var e=this.maxX-this.minX;this.minX+=(e-t)/2,this.maxX-=(e-t)/2},t.prototype.adaptYLimits=function(t){var e=this.maxY-this.minY;this.minY+=(e-t)/2,this.maxY-=(e-t)/2},t.prototype.zoomGraph=function(t){var e;if(t>=1)e=-.1*t+1;else{if(!(t<=-1))return;e=-.1*t+1}this.adaptXLimits((this.maxX-this.minX)*e),this.adaptYLimits((this.maxY-this.minY)*e),this.initRootComponents()},t.prototype.convertGraph2Page=function(t){var e=t[0],n=t[1];if(-1!==this.prevWidth&&-1!==this.prevHeight&&-1!==this.resolutionFactor)return[(e-this.minX)/(this.maxX-this.minX)*this.prevWidth*this.resolutionFactor,(n-this.maxY)/(this.minY-this.maxY)*this.prevHeight*this.resolutionFactor]},t.prototype.getRealRoots=function(){return this.roots.map((function(t){return t.real}))},t.prototype.getImagRoots=function(){return this.roots.map((function(t){return t.imag}))},Object.defineProperty(t.prototype,"rootsCount",{get:function(){return this.roots.length},enumerable:!1,configurable:!0}),t}(),Yt=n(477),Nt=n(422);function Wt(t){var e;return(e={},e[kt.LOW]=3,e[kt.MEDIUM]=1.4,e[kt.HIGH]=1,e)[t.quality]}var $t={root:0,distance:1,steps1:2,steps2:3,steps3:4,function:5},_t=new Xt;function Gt(t,e){var n=document.querySelector("#c").getContext("webgl");if(Ft(n.canvas),n.canvas.width/=Wt(e),n.canvas.height/=Wt(e),n.getExtension("OES_texture_float")){n.getExtension("OES_texture_float_linear");var r=E(n,{position:[-1,-1,0,1,-1,0,-1,1,0,-1,1,0,1,-1,0,1,1,0]});_t.adaptDimensions(n.canvas.width,n.canvas.height,Wt(e)),console.log("resolution: "+n.canvas.width+" "+n.canvas.height);var o=!1;t.onMouseDrag((function(t,r){if(!1===o){var i=n.canvas.height*Wt(e);t=[t[0]*i,(1-t[1])*i];for(var s=0;s<_t.rootsCount;++s)if(Bt(t,_t.convertGraph2Page(_t.roots[s].vec))<40){o=s;break}!1===o&&(o="graph")}"graph"===o?_t.moveGraphAlong(r):_t.moveRoot(o,r)})),t.onMouseDragStop((function(){return o=!1})),t.onMouseScroll((function(t){return _t.zoomGraph(t/-114)}));var i,s=!0;e.onChangeQuality((function(){return Gt(t,e)})),e.onChangeIterations((function(){return s=!0})),e.onChangeRenderType((function(){return s=!0})),e.onAddRoot((function(){_t.addRoot(),s=!0})),e.onRemoveRoot((function(){_t.removeRoot(),s=!0})),requestAnimationFrame((function t(o){var a;if(s){s=!1;var u=Nt.sourceCode.replace(Nt.consts.ROOTS_COUNT.variableName,_t.rootsCount).replace(Nt.consts.RENDER_TYPE.variableName,$t[e.renderType]).replace(Nt.consts.MAX_ITERATIONS.variableName,e.iterations);i=function(t,e,n,r,o){const i=At(n,r,o);let s=!0;if(e=e.map((function(t){if(t.indexOf("\n")<0){const e=j(t);e?t=e.text:(i.errorCallback("no element with id: "+t),s=!1)}return t})),!s)return null;const a=Tt(t,e,i);return a?Mt(t,a):null}(n,[Yt.sourceCode,u])}Ft(n.canvas)&&(n.canvas.width/=Wt(e),n.canvas.height/=Wt(e),_t.adaptDimensions(n.canvas.width,n.canvas.height,Wt(e))),n.viewport(0,0,n.canvas.width,n.canvas.height);var c=((a={})[Nt.uniforms.resolution.variableName]=[n.canvas.width,n.canvas.height],a[Nt.uniforms.limits.variableName]=[_t.minX,_t.maxX,_t.minY,_t.maxY],a[Nt.uniforms.rootsReal.variableName]=_t.getRealRoots(),a[Nt.uniforms.rootsImag.variableName]=_t.getImagRoots(),a);!function(t,e,n,r,o){t.useProgram(e.program),function(t,e,n){n.vertexArrayObject?t.bindVertexArray(n.vertexArrayObject):(function(t,e){for(const n in e){const r=t[n];r&&r(e[n])}}(e.attribSetters||e,n.attribs),n.indices&&t.bindBuffer(34963,n.indices))}(t,e,r),function(t,e,n){n=n||36160,e?(t.bindFramebuffer(n,e.framebuffer),t.viewport(0,0,e.width,e.height)):(t.bindFramebuffer(n,null),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight))}(t,null),Rt(e,o),function(t,e,n,r,o,i){n=void 0===n?4:n;const s=e.indices,a=e.elementType,u=void 0===r?e.numElements:r;o=void 0===o?0:o,a||s?void 0!==i?t.drawElementsInstanced(n,u,void 0===a?5123:e.elementType,o,i):t.drawElements(n,u,void 0===a?5123:e.elementType,o):void 0!==i?t.drawArraysInstanced(n,o,u,i):t.drawArrays(n,o,u)}(t,r)}(n,i,0,r,c),requestAnimationFrame(t)}))}else console.error("no floating point texture support")}var Vt=function(){function t(){var t=this;this.isMouseDown=!1,this.prevDir=null,this.canvas=document.querySelector("#c"),document.addEventListener("touchstart",(function(e){t.handleMouseDown(e.touches[0].clientX,e.touches[0].clientY)})),document.addEventListener("mousedown",(function(e){return t.handleMouseDown(e.clientX,e.clientY)})),document.addEventListener("touchend",(function(e){t.handleMouseUp()})),document.addEventListener("mouseup",(function(){return t.handleMouseUp()})),document.addEventListener("touchmove",(function(e){t.handleMouseMove(e.touches[0].clientX,e.touches[0].clientY)})),document.addEventListener("mousemove",(function(e){return t.handleMouseMove(e.clientX,e.clientY)})),document.addEventListener("wheel",(function(e){return t.handleMouseScroll(e.deltaY)}))}return t.prototype.handleMouseDown=function(t,e){this.isMouseDown=!0;var n=this.canvas.getBoundingClientRect(),r=t/n.height,o=1-e/n.height;this.prevDir=[r,o]},t.prototype.handleMouseUp=function(){this.isMouseDown=!1,this.prevDir=null,this.dragStopCb&&this.dragStopCb()},t.prototype.handleMouseMove=function(t,e){if(this.isMouseDown){var n=this.canvas.getBoundingClientRect(),r=t/n.height,o=1-e/n.height;if(this.prevDir){var i=[r-this.prevDir[0],o-this.prevDir[1]];this.prevDir=[r,o],this.mouseDragCb&&this.mouseDragCb([r,o],i)}else this.prevDir=[r,o]}},t.prototype.handleMouseScroll=function(t){this.mouseScrollCb&&this.mouseScrollCb(t)},t.prototype.onMouseDrag=function(t){this.mouseDragCb=t},t.prototype.onMouseDragStop=function(t){this.dragStopCb=t},t.prototype.onMouseScroll=function(t){this.mouseScrollCb=t},t.prototype.step=function(t,e){t<3&&this.dragStopCb();var n=this.canvas.getBoundingClientRect(),r=n.width,o=n.height,i=2*(t-3)*Math.PI*.2,s=[.5+.25*Math.cos(i),.5+.25*Math.sin(i)],a=[-.05*Math.sin(i),.05*Math.cos(i)];s[0]*=r/o,this.mouseDragCb(s,a)},t}();window.addEventListener("load",(function(){Gt(new Vt,new Lt)}))})()})();